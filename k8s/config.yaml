---
apiVersion: v1
kind: ConfigMap
metadata:
  name: cityforge-config
  namespace: cityforge
  labels:
    app: cityforge
data:
  # These values must match the PostgreSQL resource (postgres.yaml)
  # Host: Service name created by operator (matches metadata.name in postgres.yaml)
  POSTGRES_HOST: "cityforge-db"
  # Port: Standard PostgreSQL port
  POSTGRES_PORT: "5432"
  # Database: Must match spec.databases in postgres.yaml
  POSTGRES_DB: "cityforge"
  # Application URLs
  # SITE_URL: Runtime configuration for server-side code (sitemap, API routes)
  SITE_URL: "https://www.community.community"
  # NEXT_PUBLIC_SITE_URL: Build-time configuration for client-side code (embedded in bundle)
  NEXT_PUBLIC_SITE_URL: "https://www.community.community"
  # CORS Configuration - allowed origins for API requests
  # Production domains only - localhost is handled separately in development
  CORS_ALLOWED_ORIGINS: "community.community,www.community.community,cityforge.cityforge,www.cityforge.cityforge"
