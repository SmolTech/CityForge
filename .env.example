# Frontend Environment Variables
# Copy this file to .env.local and configure for your environment

# Backend API URL - where the Flask API is running
# For local development: http://localhost:5000
# For Docker: http://localhost:5000
# For production: https://api.yourdomain.com
NEXT_PUBLIC_API_URL=http://localhost:5000

# Site URLs
# SITE_URL: Runtime configuration for server-side code (sitemap, API routes)
# This is read at runtime from the deployed container environment
# For production deployments, set this in your Kubernetes ConfigMap or docker-compose
SITE_URL=http://localhost:3000

# NEXT_PUBLIC_SITE_URL: Build-time configuration for client-side code
# This is embedded into the JavaScript bundle at build time
# For local development: http://localhost:3000
# For production: https://yourdomain.com
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# CORS Configuration (for nginx proxy)
# Comma-separated list of allowed origins for API requests
# For development: localhost:3000,127.0.0.1:3000
# For production: yourdomain.com,www.yourdomain.com
# Note: Protocol (https://) and subdomains are handled automatically
CORS_ALLOWED_ORIGINS=localhost:3000,127.0.0.1:3000

# Optional: Items per page for pagination (default: 20)
NEXT_PUBLIC_ITEMS_PER_PAGE=20

# OpenSearch Configuration (for search functionality)
# These are server-side environment variables (not NEXT_PUBLIC_)
OPENSEARCH_HOST=opensearch-service
OPENSEARCH_PORT=9200
NAMESPACE=community

# Upload Configuration
# Directory for user-uploaded files (local fallback)
UPLOAD_FOLDER=uploads

# Cloudinary Configuration (for image hosting)
# Sign up at https://cloudinary.com to get these credentials
# Leave empty to use local storage fallback
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=

# JWT Configuration (required for upload authentication)
JWT_SECRET_KEY=your_very_secret_key_change_in_production_use_long_random_string

# Mailgun Email Configuration (for password reset and verification emails)
# Sign up at https://www.mailgun.com/ to get these credentials
# Get API key from: https://app.mailgun.com/settings/api_security
# Domain should be your verified sending domain
MAILGUN_API_KEY=your_mailgun_api_key
MAILGUN_DOMAIN=yourdomain.com
MAILGUN_REGION=us  # or "eu" for European region
EMAIL_FROM=noreply@yourdomain.com
EMAIL_FROM_NAME=YourSiteName

# Webhook Configuration (for email event notifications)
# Enable/disable webhook system globally
WEBHOOKS_ENABLED=true
# Whether to fallback to email if webhooks fail (default: true)
WEBHOOK_FALLBACK_TO_EMAIL=true
# JSON configuration for webhook endpoints (can also be managed via admin panel)
# Example: [{"id":"webhook1","name":"Slack","url":"https://hooks.slack.com/services/...","events":["submission.created"],"enabled":true,"secret":"your_secret"}]
WEBHOOK_CONFIG=

# Security Headers Configuration
# Environment-specific security settings
# For production: strict
# For staging: moderate 
# For development: relaxed
SECURITY_HEADERS_MODE=development

# Security Headers Override (optional)
# Set to "true" to enable strict security headers regardless of NODE_ENV
# Useful for testing production security settings in development
SECURITY_HEADERS_STRICT=false

# Content Security Policy Nonce (optional)
# Set to "true" to enable CSP nonce generation for inline scripts
# Improves security by allowing only scripts with valid nonces
SECURITY_CSP_NONCE_ENABLED=false

# Additional CSP directives (optional)
# JSON string with additional CSP directives for specific requirements
# Example: {"script-src": "'self' cdn.example.com"}
SECURITY_CSP_ADDITIONAL_DIRECTIVES=

# NOTE: Backend environment variables are configured separately
# See backend/.env.example for database, authentication, and other backend configuration
